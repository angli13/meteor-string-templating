<template name="baseLayout">
<head>
	<title>Contratos</title>
</head>
<body>
	<div class="navbar navbar-default" role="navigation">
		<div class="navbar-header">
			<a class="navbar-brand" href="#">Contratero</a>

		</div>
		<div class="navbar-collapse collapse">
			<ul class="nav navbar-nav navbar-right">
				{{> loginButtons }} <!-- here -->
			</ul>
		</div>
	</div>
	<div class="container">
		<div class="row">
			<div class="col-sm-2">
				<ul class="nav nav-pills nav-stacked">
					<li role="presentation" class="{{ isActiveRoute 'contratos' '/' }}"><a href="/">Contratos</a></li>
					<li role="presentation"  class="{{ isActiveRoute 'plantillas' }}"><a href="{{pathFor 'plantillas'}}">Plantillas</a></li>
					<li role="presentation" class="{{ isActiveRoute 'contratos.nuevo' }}"><a href="{{pathFor 'contratos.nuevo'}}">Nuevo Contrato</a></li>
					<li role="presentation" class="{{ isActiveRoute 'plantillas.nueva' }}"><a href="{{pathFor 'plantillas.nueva'}}">Nueva Plantilla</a></li>
				</ul>
			</div>
			<div class="col-sm-9">
				{{#if currentUser}}
					{{> yield}}
				{{/if}}
			</div>
		</div>
	</div>
	
</body>
</template>
<!--  -------------------------------------------------Nueva Plantilla -------------------------------------------------------- -->
<template name="nuevaPlantilla">
<div class="panel panel-default">
	<div class="panel-body">
		Nombre de la plantilla:  <input id="name-text" type="text" class="form-control name-text input-large" placeholder="Nombre de la plantilla">
		<br>
		<!-- <button class="btn btn-info close-btn">Cerrar</button> -->
		
		<textarea id="text_area" class=" form-control text-area" placeholder="Texto"></textarea>
		<br><br><br>
		<button class="btn btn-primary btn-lg pull-right">Guardar</button>
	</div>
</div>
</template>
<!--  -------------------------------------------------Nuevo Contrato -------------------------------------------------------- -->
<template name="nuevoContrato">
{{#if editandoContrato}}
<div class="page-header">
	<h1>{{contrato.name}} <small>de {{plantilla.name}}</small></h1>
</div>
<form class="form contrato-nuevo-forma" id="contrato-nuevo-forma">
	<div class="row">
		<input type="submit" class="submit-contrato-nuevo btn btn-primary pul-right" value="Guardar">
		<button class="btn btn-info close-btn">Cerrar</button>
		<br><br>
		<span>Nombre del Contrato</span><br>
		<input type="text" required class='form-control' id='nombre-contrato' value="{{contrato.name}}"><br>
		<span>Cliente del Contrato</span><br>
		<input type="text" required class='form-control' id='cliente-contrato' value="{{contrato.client}}"><br>
	</div>
	<div class="row">
		{{#each contrato.values}}
		<div class="col-sm-4">
			<span>{{placeholder}}</span><br>
			<input type="text" required class='form-control {{placeholder}}' id='{{placeholder}}' placeholder='{{placeholder}}' value="{{value}}"><br><br>
		</div>
		{{/each}}
	</div>
</form>
{{else}}
<div class="page-header">
	<h1>Nuevo contrato <small>de {{plantilla.name}}</small></h1>
</div>
<form class="form contrato-nuevo-forma" id="contrato-nuevo-forma">
	<div class="row">
		<input type="submit" class="submit-contrato-nuevo btn btn-primary pul-right" value="Crear">
		<button class="btn btn-info close-btn">Cerrar</button>
		<br><br>
		<span>Nombre del Contrato</span><br>
		<input type="text" required class='form-control' id='nombre-contrato'><br>
		<span>Cliente del Contrato</span><br>
		<input type="text" required class='form-control' id='cliente-contrato'><br>
	</div>
	<div class="row">
		{{#each plantilla.placeholders}}
		<div class="col-sm-4">
			<span>{{name}}</span><br>
			<input type="text" required class='form-control {{name}}' id='{{name}}' placeholder='{{name}}'><br><br>
		</div>
		{{/each}}
	</div>
</form>
{{/if}}
</template>
<!--  -------------------------------------------------------Contratos -------------------------------------------------------------- -->
<template name="contratosTemplate">
<div class="page-header">
	<h1>Contratos <small>Lista de contratos.</small></h1>
</div>
<table class="table">
	<thead>
		<th>Nombre</th>
		<th>Cliente</th>
		<th>Fecha</th>
		<th>Acciones</th>
	</thead>
	<tbody>
		{{#each contratos}}
		<tr>
			<td>{{name}}</td>
			<td>{{client}}</td>
			<td>{{formatDate date}}</td>
			<td>
				<a class="btn btn-success new-btn glyphicon glyphicon-plus"></a>
				<a class="btn btn-info see-btn glyphicon glyphicon-eye-open"></a>
				<button class=" btn btn-danger del-btn glyphicon glyphicon-remove pull-right"></button>
			</td>
		</tr>
		{{/each}}
	</tbody>
</table>
<div class="well">
	<div class="page-header">
		<h1>{{contrato.name}}</h1>
		{{formatTemplate contrato}}
	</div>
</div>
</template>
<!--  -----------------------------------------------------Plantillas ------------------------------------------------------------ -->
<template name="plantillasTemplate">
<div class="page-header">
	<h1>Plantillas <small>Lista de plantillas.</small></h1>
</div>
<table class="table">
	<thead>
		<th>Nombre</th>
		<th>Variables</th>
		<th>Fecha</th>
		<th>Acciones</th>
	</thead>
	<tbody>
		{{#each plantillas}}
		<tr>
			<td>{{name}}</td>
			<td>{{placeholders.length}}</td>
			<td>{{formatDate date}}</td>
			<td>
				<a class="btn btn-success new-btn glyphicon glyphicon-plus"></a>
				<button class=" btn btn-danger del-btn glyphicon glyphicon-remove pull-right"></button>
			</td>
		</tr>
		{{/each}}
	</tbody>
</table>
</template>
<template name="_loginButtonsAdditionalLoggedInDropdownActions">
<button class="btn btn-default btn-block" id="login-buttons-edit-profile">Editar</button>
</template>